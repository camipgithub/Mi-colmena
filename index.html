<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Colmena</title>
  <h2>Rubro</h2>
<select id="rubro" onchange="cambiarRubro()">
  <option value="almacen">ğŸŸ¡ AlmacÃ©n</option>
  <option value="cosmetica">ğŸ’— CosmÃ©tica</option>
</select>
  
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#f4c430">
  <script src="https://unpkg.com/@zxing/library@latest"></script>
  
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>ğŸ Mi Colmena</h1>
<p>POS offline (IndexedDB)</p>

<button onclick="initDB()">Inicializar Base</button>

<hr>

<h2>Inventario</h2>
<input id="codigo" placeholder="CÃ³digo de barras">
<button onclick="abrirCamara()">ğŸ“· Escanear</button>
  
<input id="nombre" placeholder="Producto">
<input id="precio" type="number" placeholder="Precio">
<input id="stock" type="number" placeholder="Stock">
<br><br>
<button onclick="guardarProducto()">Guardar producto</button>

<h3>Productos</h3>
<ul id="listaProductos"></ul>

<hr>

<h2>Ventas</h2>

<select id="productoVenta"></select>
<input id="cantidadVenta" type="number" placeholder="Cantidad" value="1">

<select id="pagoVenta">
  <option value="Efectivo">Efectivo</option>
  <option value="QR">QR</option>
  <option value="Tarjeta">Tarjeta</option>
</select>

<br><br>
<button onclick="registrarVenta()">Registrar venta</button>

<h3>Comprobantes</h3>
<ul id="listaVentas"></ul>
<div id="camara" style="display:none;">
  <video id="video" width="300"></video>
  <button onclick="cerrarCamara()">Cerrar cÃ¡mara</button>
</div>
  <hr>

<h2>Reportes</h2>

<button onclick="reporteHoy()">ğŸ“… Hoy</button>
<button onclick="reporteMes()">ğŸ—“ï¸ Mes</button>

<div id="reporte"></div>
  <hr>
<h2>GrÃ¡ficos</h2>
<canvas id="graficoVentas" width="300"></canvas>
<h2>Exportar</h2>

<button onclick="exportarCSV('hoy')">â¬‡ï¸ Excel (Hoy)</button>
<button onclick="exportarCSV('mes')">â¬‡ï¸ Excel (Mes)</button>

<button onclick="exportarPDF('hoy')">ğŸ“„ PDF (Hoy)</button>
<button onclick="exportarPDF('mes')">ğŸ“„ PDF (Mes)</button>
  
<script src="app.js"></script>
  <script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js");
}
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>

